javascript:(function(){let isSettingsOpen=false;function e(){if(!localStorage.getItem("customerData")){const e={hawk:{pre:"https://gen2-pre-pw.hawk.airnguru.com/publishing-manager/",prod:"https://qr-pricing-workflow.airnguru.com/publishing-manager/"},heron:{pre:"https://gen2-pre-pw.heron.airnguru.com/publishing-manager/",prod:"https://ey-pricing-workflow.airnguru.com/publishing-manager/"},goldcrest:{pre:"https://gen2-pre-pw.goldcrest.airnguru.com/publishing_manager/"}};localStorage.setItem("customerData",JSON.stringify(e))}}function t(){if(isSettingsOpen)return;if(document.getElementById("bookmarkletForm"))return;var e=`<div id="bookmarkletForm" style="position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#fff;padding:25px;border-radius:12px;box-shadow:0px 4px 12px rgba(0,0,0,0.1);z-index:10000;width:280px;font-family:sans-serif;"><h3 style="margin-top:0;text-align:center;color:#333;font-size:1.3em;font-weight:600;margin-bottom:15px;">Request Finder</h3><label style="font-weight:500;color:#555;margin-bottom:5px;display:block;">Request Number:</label><input type="text" id="requestNumber" style="width:92%;padding:10px;border:1px solid #ddd;border-radius:8px;margin-bottom:15px;font-size:1em;"><label style="font-weight:500;color:#555;margin-bottom:5px;display:block;">Environment:</label><div style="display:flex;align-items:center;gap:15px;margin-bottom:15px;"><label style="display:flex;align-items:center;font-size:1.1em;"><input type="radio" id="pre" name="environment" value="pre" style="margin-right:8px;width:18px;height:18px;">Pre</label><label style="display:flex;align-items:center;font-size:1.1em;"><input type="radio" id="prod" name="environment" value="prod" style="margin-right:8px;width:18px;height:18px;">Prod</label></div><label style="font-weight:500;color:#555;margin-bottom:5px;display:block;">Customer:</label><select id="customerSelect" style="width:100%;padding:10px;border:1px solid #ddd;border-radius:8px;margin-bottom:15px;font-size:1em;"></select><button id="submitButton" style="width:100%;padding:12px;background-color:#007bff;color:#fff;border:none;border-radius:8px;font-size:1em;cursor:pointer;margin-bottom:10px;">Submit</button><button id="settingsButton" style="width:100%;padding:10px;background-color:#6c757d;color:#fff;border:none;border-radius:8px;font-size:0.9em;margin-bottom:10px;cursor:pointer;">Settings</button><button id="cancelButton" style="width:100%;padding:10px;background-color:#dc3545;color:#fff;border:none;border-radius:8px;font-size:0.9em;cursor:pointer;">Cancel</button></div>%60;i=document.createElement("div");i.innerHTML=e;document.body.appendChild(i);const n=JSON.parse(localStorage.getItem("customerData")||"{}"),o=document.getElementById("customerSelect");for(const e in n){const t=document.createElement("option");t.value=e;t.textContent=e.charAt(0).toUpperCase()+e.slice(1);o.appendChild(t)}document.getElementById("submitButton").onclick=r;document.getElementById("settingsButton").onclick=a;document.getElementById("cancelButton").onclick=function(){i&&document.body.contains(i)&&document.body.removeChild(i)}}function r(){const e=document.getElementById("requestNumber").value,t=document.querySelector('input[name="environment"]:checked'),r=document.getElementById("customerSelect").value;if(/^\d+$/.test(e)){if(t){let n=JSON.parse(localStorage.getItem("customerData"))[r][t.value];n=n.replace(/\/+$/,"/");window.open(n+e,"_blank")}else alert("Please select an environment.")}else alert("Please enter a valid numeric request number.")}function a(){var e=%60<div id="settingsForm" style="position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#fff;padding:25px;border-radius:12px;box-shadow:0px 4px 12px rgba(0,0,0,0.1);z-index:10000;width:418px;font-family:sans-serif;"><h3 style="margin-top:0;text-align:center;color:#333;font-size:1.3em;font-weight:600;margin-bottom:15px;">Customer Settings</h3><label style="font-weight:500;color:#555;margin-bottom:5px;display:block;">Customer Name:</label><input type="text" id="customerName" style="width:100%;padding:10px;border:1px solid #ddd;border-radius:8px;margin-bottom:15px;font-size:1em;"><label style="font-weight:500;color:#555;margin-bottom:5px;display:block;">Pre Environment URL:</label><input type="text" id="preURL" style="width:100%;padding:10px;border:1px solid #ddd;border-radius:8px;margin-bottom:15px;font-size:1em;"><label style="font-weight:500;color:#555;margin-bottom:5px;display:block;">Prod Environment URL:</label><input type="text" id="prodURL" style="width:100%;padding:10px;border:1px solid #ddd;border-radius:8px;margin-bottom:15px;font-size:1em;"><button id="saveCustomerButton" style="width:100%;padding:12px;background-color:#007bff;color:#fff;border:none;border-radius:8px;font-size:1em;margin-bottom:10px;cursor:pointer;">Save</button><button id="closeSettingsButton" style="width:100%;padding:10px;background-color:#6c757d;color:#fff;border:none;border-radius:8px;font-size:0.9em;margin-bottom:10px;cursor:pointer;">Close</button><h4 style="margin:5px 0;font-size:1em;color:#333;font-weight:600;">Existing Customers</h4><div id="customerList" style="margin-top:5px;padding:10px;border:1px solid #ddd;border-radius:8px;background-color:#f8f9fa;max-height:150px;overflow-y:auto;"></div></div>%60;if(i&&document.body.contains(i)){document.body.removeChild(i)}i=document.createElement("div");i.innerHTML=e;document.body.appendChild(i);isSettingsOpen=true;n();document.getElementById("saveCustomerButton").onclick=o;document.getElementById("closeSettingsButton").onclick=function(){if(i&&document.body.contains(i)){document.body.removeChild(i)}isSettingsOpen=false}}function n(){const e=JSON.parse(localStorage.getItem("customerData")||"{}"),t=document.getElementById("customerList");t.innerHTML="";for(const n in e){const o=document.createElement("div");o.style.display="block";o.style.padding="10px 0";o.style.borderBottom="1px solid #ddd";o.innerHTML=%60<div style="font-weight:bold;color:#333;">${n}</div><div style="font-size:0.9em;color:#555;">Pre: ${e[n].pre}</div><div style="font-size:0.9em;color:#555;">Prod: ${e[n].prod||"undefined"}</div><div style="display:flex;gap:8px;justify-content:flex-end;margin-top:10px;"><button style="padding:5px 10px;background-color:#ffc107;color:#fff;border:none;border-radius:6px;cursor:pointer;" class="editButton" data-customer="${n}">Edit</button><button style="padding:5px 10px;background-color:#dc3545;color:#fff;border:none;border-radius:6px;cursor:pointer;" class="deleteButton" data-customer="${n}">Delete</button></div>%60;t.appendChild(o)}document.querySelectorAll(".deleteButton").forEach(e=>{e.addEventListener("click",function(){l(e.getAttribute("data-customer"))})});document.querySelectorAll(".editButton").forEach(e=>{e.addEventListener("click",function(){p(e.getAttribute("data-customer"))})})}function o(){const e=document.getElementById("customerName").value,t=document.getElementById("preURL").value,r=document.getElementById("prodURL").value;if(!e||!t||!r)return alert("Please fill out all fields.");if(!t.endsWith("/")||!r.endsWith("/"))return alert("Pre and Prod URLs must end with a forward slash '/'.");const a=JSON.parse(localStorage.getItem("customerData")||"{}");a[e]={pre:t,prod:r};localStorage.setItem("customerData",JSON.stringify(a));n()}function l(e){const t=JSON.parse(localStorage.getItem("customerData")||"{}");delete t[e];localStorage.setItem("customerData",JSON.stringify(t));n()}function p(e){const t=JSON.parse(localStorage.getItem("customerData")||"{}");document.getElementById("customerName").value=e;document.getElementById("preURL").value=t[e].pre;document.getElementById("prodURL").value=t[e].prod}e();t()})();
